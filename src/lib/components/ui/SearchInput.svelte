<script lang="ts">
  import { createEventDispatcher } from 'svelte';
  import { debounce } from '$lib/utils/debounce'; // –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ 2.3.1

  const dispatch = createEventDispatcher<{ search: string }>();

  let searchQuery: string = '';

  // –≠—Ñ—Ñ–µ–∫—Ç Svelte –¥–ª—è —Å–ª–µ–∂–µ–Ω–∏—è –∑–∞ query –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è debounce
  $: debouncedSearch(searchQuery);

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —É—Ç–∏–ª–∏—Ç—É debounce
  const debouncedSearch = debounce((query: string) => {
    dispatch('search', query);
  }, 300);
</script>

<div class="relative mb-6">
  <input
    type="text"
    placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∑–∞–¥–∞—á–∏..."
    bind:value={searchQuery}
    class="block w-full py-3 px-4 pl-10 rounded-lg border-gray-300 shadow-lg focus:border-indigo-500 focus:ring-indigo-500"
  />
</div>